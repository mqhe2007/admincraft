(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{173:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("借助于"),a("a",{attrs:{href:"https://cli.vuejs.org/zh/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue-cli"),a("OutboundLink")],1),t._v("脚手架工具创建模块工程，我们很容易的把代码打包成一个 Admincraft 模块。")]),t._v(" "),a("p",[t._v("一个 Admincraft 模块就是一个打包成 umd 规范的 js 库及相关资源。")]),t._v(" "),a("p",[t._v("打包为库的配置请参考："),a("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/build-targets.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("构建目标-库"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("这里有一个带有完整演示的模块项目："),a("a",{attrs:{href:"https://github.com/mqhe2007/admincraft-module",target:"_blank",rel:"noopener noreferrer"}},[t._v("Admincraft-module"),a("OutboundLink")],1)]),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._m(5),t._v(" "),t._m(6),t._v(" "),a("p",[t._v("下面是一个完整的模块打包入口例子：")]),t._v(" "),t._m(7),t._m(8),t._v(" "),t._m(9),t._v(" "),a("p",[t._v("其实很简单，像传统的 Vue 工程一样，我们从"),a("code",[t._v("main.js")]),t._v("文件出发。我们只需要在我们的 "),a("code",[t._v("main.js")]),t._v(" 文件中导入模块要导出的初始化函数（"),a("code",[t._v("init.js")]),t._v(" ）和 "),a("code",[t._v("Admincraft")]),t._v("，我们当前开发服务所运行的代码就是一个 Admincraft 项目，我们当然就可以使用 Admincraft 创建实例，并在"),a("router-link",{attrs:{to:"/guide/#实例化选项"}},[t._v("实例化的同时传入我们的当前模块")]),t._v("。")],1),t._v(" "),t._m(10),a("p",[t._v("然后，就能正常开发了，任何模块相关代码改动都会及时的更新在实例中。")]),t._v(" "),a("p",[t._v("这样在开发阶段既能同步使用 Admincraft 提供的 API，组件，布局等能力，又能保证开发出的模块能完美被其他 Admincraft 项目加载。")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),a("p",[t._v("除"),a("a",{attrs:{href:"https://router.vuejs.org/zh/api/#routes",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue-router 原本的属性"),a("OutboundLink")],1),t._v("外，Admincraft 还支持如下 meta 属性：")]),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),a("p",[t._v("当前路由对应的页面标题，会更新浏览器选项卡，作为控制台页签栏标题。")]),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),a("p",[t._v("菜单名称前的小图标，仅支持 iconfont 平台的 symbol 引用方式。")]),t._v(" "),a("p",[t._v("第一步：下载 iconfont 项目文件，在项目入口文件导入 symbol 引用的 js 文件。")]),t._v(" "),a("p",[t._v("第二步：icon 处填写相应图标类名")]),t._v(" "),t._m(17),t._v(" "),t._m(18),t._v(" "),a("p",[t._v("作为菜单时同级的显示顺序，如果值相同则按先后顺序排列。")]),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),a("p",[t._v("为当前路由页面指定使用的布局，如果不指定则使用默认的控制台布局。")]),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),a("p",[t._v("是否生成为菜单，默认为不配置，如果设置成 true,则生成菜单时会跳过当前路由。")]),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),a("p",[t._v("页面是否在页签栏生成记录，默认为不配置，如果设置成 true,则当前页面打开后不会记录在页签栏。")]),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),a("p",[t._v("当前路由的权限标签，此权限标签在生成菜单时会和用户权限列表进行匹配，只有匹配成功的路由才可见。")]),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),t._m(29),t._v(" "),a("p",[t._v("作为菜单时同级的显示顺序，如果值相同则按先后顺序排列。")]),t._v(" "),t._m(30),t._v(" "),t._m(31),t._v(" "),a("p",[t._v("当前路由对应的页面标题，会更新浏览器选项卡，作为控制台页签栏标题。")]),t._v(" "),t._m(32),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),a("p",[t._v("子菜单对象数组。")]),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),t._m(39),t._v(" "),t._m(40),t._m(41),t._v(" "),t._m(42),t._v(" "),t._m(43),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),a("p",[t._v("外链地址，如果菜单对象中配置了此属性，则菜单会作为一个外链菜单，点击后会优先在新标签页跳转到此地址。")])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"编码规范"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编码规范","aria-hidden":"true"}},[this._v("#")]),this._v(" 编码规范")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"编写一个模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编写一个模块","aria-hidden":"true"}},[this._v("#")]),this._v(" 编写一个模块")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"目录约定"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录约定","aria-hidden":"true"}},[this._v("#")]),this._v(" 目录约定")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("p",[this._v("注意，缩进代表目录层级。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("dist ----------------- 编译完成后的发行代码目录\nnode_modules --------- nodejs项目依赖安装目录\npublic --------------- 不需要webpack打包的静态资源目录\n  libs --------------- 通过远程调用的第三方库目录\n  index.html --------- 开发预览的网页入口文件\nsrc ------------------ 源代码目录\n  assets ------------- 需要webpack打包编译的资源目录\n  components --------- 局部组件目录\n  router ------------- 路由配置目录\n    routes.js -------- 路由配置\n  store -------------- vuex状态管理配置\n    storeModule.js --- vuex状态模块化配置\n  views -------------- 视图组件目录，需要导入路由配置\n  App.vue ------------ Vue实例根组件\n  envConst ----------- 多环境常量配置\n  init.js ------------ 模块初始化文件，模块化打包的入口文件\n  libs.js ------------ 通过远程调用的第三方库清单文件\n  main.js ------------ 开发服务入口文件\n.browserslistrc ------ 浏览器支持情况配置\n.env.* --------------- 构建环境与模式配置\n.eslintrc.js --------- eslint的配置文件\n.gitignore ----------- git 提交忽略文件\nbabel.config.js ------ babel编译配置文件\npackage.json --------- npm包配置文件\npostcss.config.js ---- postcss样式处理配置文件\nREADME.md ------------ 自述文件\nvue.config.js -------- vue-cli配置文件\nyarn.lock ------------ npm依赖版本锁\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"模块打包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模块打包","aria-hidden":"true"}},[this._v("#")]),this._v(" 模块打包")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Admincraft 的模块应该导出一个"),s("code",[this._v("init")]),this._v("函数。如果函数内部有异步操作，比如使用了"),s("code",[this._v("$addRemoteLib")]),this._v("API 来加载远程库，您可能需要让模块函数返回一个 Promise 来更好的控制异步流程。模块加载时此函数会被执行，接收的第一个参数是 "),s("code",[this._v("Vue")]),this._v(" 构造器。使用 Vue 构造器，和 Admincraft API 方法，模块可以自行控制要加载的数据。")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// init.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导入模块数据")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" routes "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./router/routes'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" storeModule "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./store/storeModule'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" libs "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./config/libs'")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 从package.json中获取模块名称")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" moduleName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../package.json'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 动态获取模块js库的引用地址")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" moduleServerUrl\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentScript"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("match")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/(.+\\/)[^/]+\\.js$/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  moduleServerUrl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 导出模块init函数，当内部有异步操作时返回Promise")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" Vue "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注册路由")]),t._v("\n    Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$addRoutes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("routes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moduleName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'：路由注册完成'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注册状态树")]),t._v("\n    Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$addStore")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moduleName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" storeModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moduleName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'：状态注册完成'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注册菜单")]),t._v("\n    Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$addMenus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("routes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moduleName "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'：菜单注册完成'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getRemoteLibUrlList")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" libs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("\n      libs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" serverUrl "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'libs/'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注册libs")]),t._v("\n    Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$addRemoteLib")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRemoteLibUrlList")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("libs"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("moduleName"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("模块加载完成`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"模块开发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#模块开发","aria-hidden":"true"}},[this._v("#")]),this._v(" 模块开发")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("从上文可知，代码打包成一个 Admincraft 模块可以用一个导出函数的入口文件"),s("code",[this._v("init.js")]),this._v("来实现。那作为一个 Admincraft 模块，我们如何去运行开发呢？")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// main.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" Admincraft "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'admincraft'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" showCase "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./init'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建实例")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" appElement "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createElement")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'div'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" app "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Admincraft")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  modules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("showCase"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Showcase'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  logo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" text"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'showcase演示'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\napp"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$mount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("appElement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\ndocument"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("appendChild")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$el"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"路由配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 路由配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在 Admincraft 项目中，路由的"),s("code",[this._v("name")]),this._v("属性是必选且要保持唯一，我们会使用"),s("code",[this._v("name")]),this._v("进行路由导航，匹配菜单，匹配页签等。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"meta-title"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#meta-title","aria-hidden":"true"}},[this._v("#")]),this._v(" meta.title")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("p",[this._v("类型："),s("code",[this._v("String")])])]),this._v(" "),s("li",[s("p",[this._v("必选")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"meta-icon"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#meta-icon","aria-hidden":"true"}},[this._v("#")]),this._v(" meta.icon")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("String")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"meta-index"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#meta-index","aria-hidden":"true"}},[this._v("#")]),this._v(" meta.index")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("Number")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"meta-layout"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#meta-layout","aria-hidden":"true"}},[this._v("#")]),this._v(" meta.layout")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("String")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"meta-nonmenu"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#meta-nonmenu","aria-hidden":"true"}},[this._v("#")]),this._v(" meta.NonMenu")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("Boolean")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"meta-nontab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#meta-nontab","aria-hidden":"true"}},[this._v("#")]),this._v(" meta.NonTab")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("Boolean")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"meta-permissiontag"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#meta-permissiontag","aria-hidden":"true"}},[this._v("#")]),this._v(" meta.permissionTag")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("String")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"菜单配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#菜单配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 菜单配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"index"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#index","aria-hidden":"true"}},[this._v("#")]),this._v(" index")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("Number")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"title"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#title","aria-hidden":"true"}},[this._v("#")]),this._v(" title")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("p",[this._v("类型："),s("code",[this._v("String")])])]),this._v(" "),s("li",[s("p",[this._v("必选")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"name"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#name","aria-hidden":"true"}},[this._v("#")]),this._v(" name")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("String")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("对应要访问的路由的"),s("code",[this._v("name")]),this._v("值。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"children"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#children","aria-hidden":"true"}},[this._v("#")]),this._v(" children")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("Array")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"parents"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#parents","aria-hidden":"true"}},[this._v("#")]),this._v(" parents")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("String")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("以菜单项"),s("code",[this._v("name")]),this._v("值（路由"),s("code",[this._v("name")]),this._v("）组成的路径格式指定父级菜单，当前菜单会插入最后一级菜单的"),s("code",[this._v("children")]),this._v("中。例如：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("$addMenus")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    parents"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'level1/level2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'三级菜单'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'level3'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("当前菜单项就会被插入到 "),s("code",[this._v("level1")]),this._v("下的"),s("code",[this._v("level2")]),this._v("下，结构应该是这样的。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("p",[this._v("level1")]),this._v(" "),s("ul",[s("li",[s("p",[this._v("level2")]),this._v(" "),s("ul",[s("li",[this._v("level3")])])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),s("p",[this._v("如果插入次级的菜单"),s("code",[this._v("name")]),this._v("值来源于路由配置，为避免重复定义，则需要在同名路由中设置"),s("code",[this._v("NonMenu")]),this._v("为 true。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"url"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#url","aria-hidden":"true"}},[this._v("#")]),this._v(" url")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("String")])])])}],!1,null,null,null);s.default=e.exports}}]);