(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{172:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),e("p",[t._v("模块的名称。")]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),e("p",[t._v("模块的版本号，版本号命名应遵从"),e("a",{attrs:{href:"https://semver.org/lang/zh-CN/",target:"_blank",rel:"noopener noreferrer"}},[t._v("语义化版本规范"),e("OutboundLink")],1),t._v("。")]),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),e("p",[t._v("标题会反映在浏览器选项卡，页脚，logo（如果没有配置 logo 选项）。")]),t._v(" "),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._v(" "),t._m(15),t._v(" "),t._m(16),t._v(" "),t._m(17),t._v(" "),e("p",[t._v("路由实例配置")]),t._v(" "),t._m(18),t._v(" "),t._m(19),t._v(" "),e("p",[t._v("请求实例配置")]),t._v(" "),e("p",[t._v("Admincraft 内部封装了强大易用的 http 网络请求库"),e("a",{attrs:{href:"https://github.com/axios/axios",target:"_blank",rel:"noopener noreferrer"}},[t._v("axios"),e("OutboundLink")],1),t._v("。如果你还没用过，那需要了解一下，很容易上手。")]),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._v(" "),e("p",[t._v("除"),e("a",{attrs:{href:"https://router.vuejs.org/zh/api/#routes",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue-router 原本的属性"),e("OutboundLink")],1),t._v("外，Admincraft 还支持如下 meta 属性：")]),t._v(" "),t._m(27),t._v(" "),t._m(28),t._v(" "),e("p",[t._v("当前路由对应的页面标题，会更新浏览器选项卡，作为控制台页签栏标题。")]),t._v(" "),t._m(29),t._v(" "),t._m(30),t._v(" "),e("p",[t._v("菜单名称前的小图标，仅支持 iconfont 平台的 symbol 引用方式。")]),t._v(" "),e("p",[t._v("第一步：下载 iconfont 项目文件，在项目入口文件导入 symbol 引用的 js 文件。")]),t._v(" "),e("p",[t._v("第二步：icon 处填写相应图标类名")]),t._v(" "),t._m(31),t._v(" "),t._m(32),t._v(" "),e("p",[t._v("作为菜单时同级的显示顺序，如果值相同则按先后顺序排列。")]),t._v(" "),t._m(33),t._v(" "),t._m(34),t._v(" "),e("p",[t._v("为当前路由页面指定使用的布局，如果不指定则使用默认的控制台布局。")]),t._v(" "),t._m(35),t._v(" "),t._m(36),t._v(" "),e("p",[t._v("是否生成为菜单，默认为不配置，如果设置成 true,则生成菜单时会跳过当前路由。")]),t._v(" "),t._m(37),t._v(" "),t._m(38),t._v(" "),e("p",[t._v("页面是否在页签栏生成记录，默认为不配置，如果设置成 true,则当前页面打开后不会记录在页签栏。")]),t._v(" "),t._m(39),t._v(" "),t._m(40),t._v(" "),e("p",[t._v("当前路由的权限标签，此权限标签在生成菜单时会和用户权限列表进行匹配，只有匹配成功的路由才可见。")]),t._v(" "),t._m(41),t._v(" "),t._m(42),t._v(" "),t._m(43),t._v(" "),e("p",[t._v("作为菜单时同级的显示顺序，如果值相同则按先后顺序排列。")]),t._v(" "),t._m(44),t._v(" "),t._m(45),t._v(" "),e("p",[t._v("当前路由对应的页面标题，会更新浏览器选项卡，作为控制台页签栏标题。")]),t._v(" "),t._m(46),t._v(" "),t._m(47),t._v(" "),t._m(48),t._v(" "),t._m(49),t._v(" "),t._m(50),t._v(" "),e("p",[t._v("子菜单对象数组。")]),t._v(" "),t._m(51),t._v(" "),t._m(52),t._v(" "),t._m(53),t._v(" "),t._m(54),t._m(55),t._v(" "),t._m(56),t._v(" "),t._m(57),t._v(" "),t._m(58),t._v(" "),t._m(59),t._v(" "),e("p",[t._v("外链地址，如果菜单对象中配置了此属性，则菜单会作为一个外链菜单，点击后会优先在新标签页跳转到此地址。")]),t._v(" "),t._m(60),t._v(" "),t._m(61),t._v(" "),t._m(62),t._v(" "),t._m(63),t._v(" "),e("p",[t._v("如果有特殊需求必须放在模块本地目录，我们需要特别的去配置以 html 标签的方式加载第三方库。")]),t._v(" "),t._m(64),t._v(" "),t._m(65),t._v(" "),t._m(66),t._m(67),t._v(" "),e("p",[t._v("看起来如下：")]),t._v(" "),t._m(68),t._m(69),t._v(" "),e("p",[t._v("我们可以通过"),e("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/mode-and-env.html#%E6%A8%A1%E5%BC%8F",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue-cli@3 的模式"),e("OutboundLink")],1),t._v("，根据不同构建模式选取"),e("code",[t._v("VUE_APP_ENV")]),t._v("常量值，并在构建时根据"),e("code",[t._v("VUE_APP_ENV")]),t._v("的值动态获取响应环境的配置。")]),t._v(" "),t._m(70),t._v(" "),t._m(71),t._v(" "),t._m(72),t._v(" "),t._m(73),t._m(74),t._v(" "),t._m(75),e("p",[t._v("至此，我们就添加了一个以 test 环境构建生产代码的构建配置，再配合根据每套环境名配置的常量，我们就实现了根据不同环境切换常量，见下文。")]),t._v(" "),t._m(76),t._v(" "),e("p",[t._v("环境常量通常记录着代码中用到的固定值，通常需要根据构建环境去切换，通过上面创建的环境构建我们很容易切换配置。")]),t._v(" "),e("p",[t._v("我们可以创建一个 js 文件，按如下操作导出常量对象。")]),t._v(" "),t._m(77),e("p",[t._v("使用：")]),t._v(" "),t._m(78)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"基本信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本信息","aria-hidden":"true"}},[this._v("#")]),this._v(" 基本信息")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("工程（模块）的基本信息通过 npm 包配置文件"),s("code",[this._v("package.json")]),this._v("来配置，主要是以下字段。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"name"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#name","aria-hidden":"true"}},[this._v("#")]),this._v(" name")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("String")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("模块名称遵从 npm 包命名规范，单词小写，多单词使用"),s("code",[this._v("-")]),this._v("连接。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"version"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#version","aria-hidden":"true"}},[this._v("#")]),this._v(" version")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("String")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"实例化选项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#实例化选项","aria-hidden":"true"}},[this._v("#")]),this._v(" 实例化选项")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"title"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#title","aria-hidden":"true"}},[this._v("#")]),this._v(" title")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型 "),s("code",[this._v("{String}")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"logo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#logo","aria-hidden":"true"}},[this._v("#")]),this._v(" logo")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[e("p",[t._v("image")]),t._v(" "),e("ul",[e("li",[t._v("类型 "),e("code",[t._v("{String} url")])])])]),t._v(" "),e("li",[e("p",[t._v("text")]),t._v(" "),e("ul",[e("li",[t._v("类型 "),e("code",[t._v("{String}")])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("logo位于控制台框架左上角头部区域，可以自定义图片和文字内容，图片和文字也可单独配置，如果图片和文字都不配置，标识则会直接显示"),s("code",[this._v("title")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"modules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#modules","aria-hidden":"true"}},[this._v("#")]),this._v(" modules")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型 "),s("code",[this._v("{Array} moduleInitFunction")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("我们前一直在说模块的"),s("code",[this._v("动态加载")]),this._v("，其实我们实例化应用的时候就可以预先装载已有的模块数据，这在使得我们在开发 Admincraft 模块的时候可以同步载入模块数据，方便开发。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"router"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#router","aria-hidden":"true"}},[this._v("#")]),this._v(" router")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("p",[this._v("beforeResolve")]),this._v(" "),s("ul",[s("li",[this._v("类型 "),s("code",[this._v("{Function}")])])]),this._v(" "),s("p",[this._v("路由解析守卫，在所有组件内守卫和异步路由组件被解析之后，导航被确认之前调用。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"http"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#http","aria-hidden":"true"}},[this._v("#")]),this._v(" http")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("p",[s("strong",[this._v("为什么要把网络请求库也集成在内？")])]),this._v(" "),s("p",[this._v("大多数时候，我们一个项目中的网络请求库在使用前会进行一些全局配置，比如库的选取，请求参数的调整，拦截器的处理，错误情况的处理等等，往后更多的时间就是逐个实现业务接口，全局化配置便不再改动。所以我们不如把请求库，拦截器，错误处理逻辑提前准备好，尽量做到开箱即用。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在 Admincraft 实例化时会同时实例化 axios，我们可以通过"),s("code",[this._v("http")]),this._v("选项去配置 axios。")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" admincraft "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Admincraft")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  http"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    factorOfSuccess"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      key"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ok'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      value"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    baseURL"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://some-domain.com/api/'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    timeout"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ul",[e("li",[e("p",[t._v("factorOfSuccess")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("key")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("类型 "),e("code",[t._v("String")])])]),t._v(" "),e("li",[e("p",[t._v("必选")])])]),t._v(" "),e("p",[t._v("后端返回数据时用来表示请求结果状态的属性名。")])]),t._v(" "),e("li",[e("p",[t._v("value")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("类型 "),e("code",[t._v("String || Number || Boolean")])])]),t._v(" "),e("li",[e("p",[t._v("必选")])])]),t._v(" "),e("p",[t._v("后端返回数据时用来表示请求成功时的"),e("code",[t._v("key")]),t._v("的值。")])])]),t._v(" "),e("p",[t._v("其他选项可以参考"),e("a",{attrs:{href:""}},[t._v("axios 官方文档")]),t._v("。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("更多实例化配置敬请期待。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"路由选项配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#路由选项配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 路由选项配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在 Admincraft 项目中，路由的"),s("code",[this._v("name")]),this._v("属性是必选且要保持唯一，我们会使用"),s("code",[this._v("name")]),this._v("进行路由导航，匹配菜单，匹配页签等。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"meta-title"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#meta-title","aria-hidden":"true"}},[this._v("#")]),this._v(" meta.title")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("p",[this._v("类型："),s("code",[this._v("String")])])]),this._v(" "),s("li",[s("p",[this._v("必选")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"meta-icon"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#meta-icon","aria-hidden":"true"}},[this._v("#")]),this._v(" meta.icon")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("String")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"meta-index"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#meta-index","aria-hidden":"true"}},[this._v("#")]),this._v(" meta.index")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("Number")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"meta-layout"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#meta-layout","aria-hidden":"true"}},[this._v("#")]),this._v(" meta.layout")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("String")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"meta-nonmenu"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#meta-nonmenu","aria-hidden":"true"}},[this._v("#")]),this._v(" meta.NonMenu")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("Boolean")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"meta-nontab"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#meta-nontab","aria-hidden":"true"}},[this._v("#")]),this._v(" meta.NonTab")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("Boolean")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"meta-permissiontag"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#meta-permissiontag","aria-hidden":"true"}},[this._v("#")]),this._v(" meta.permissionTag")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("String")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"菜单配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#菜单配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 菜单配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"index"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#index","aria-hidden":"true"}},[this._v("#")]),this._v(" index")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("Number")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"title-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#title-2","aria-hidden":"true"}},[this._v("#")]),this._v(" title")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("p",[this._v("类型："),s("code",[this._v("String")])])]),this._v(" "),s("li",[s("p",[this._v("必选")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"name-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#name-2","aria-hidden":"true"}},[this._v("#")]),this._v(" name")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("String")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("对应要访问的路由的"),s("code",[this._v("name")]),this._v("值。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"children"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#children","aria-hidden":"true"}},[this._v("#")]),this._v(" children")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("Array")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"parents"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#parents","aria-hidden":"true"}},[this._v("#")]),this._v(" parents")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("String")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("以菜单项"),s("code",[this._v("name")]),this._v("值（路由"),s("code",[this._v("name")]),this._v("）组成的路径格式指定父级菜单，当前菜单会插入最后一级菜单的"),s("code",[this._v("children")]),this._v("中。例如：")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("$addMenus")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    parents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'level1/level2'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    title"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'三级菜单'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'level3'")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("当前菜单项就会被插入到 "),s("code",[this._v("level1")]),this._v("下的"),s("code",[this._v("level2")]),this._v("下，结构应该是这样的。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("p",[this._v("level1")]),this._v(" "),s("ul",[s("li",[s("p",[this._v("level2")]),this._v(" "),s("ul",[s("li",[this._v("level3")])])])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),s("p",[this._v("如果插入次级的菜单"),s("code",[this._v("name")]),this._v("值来源于路由配置，为避免重复定义，则需要在同名路由中设置"),s("code",[this._v("NonMenu")]),this._v("为 true。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"url"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#url","aria-hidden":"true"}},[this._v("#")]),this._v(" url")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("类型："),s("code",[this._v("String")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),s("p",[this._v("本页文档正在撰写中，请勿参考。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("可配置项通过"),s("code",[this._v("/src/config.js")]),this._v("文件进行配置。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"远程库配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#远程库配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 远程库配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("p",[this._v("推荐使用 npm 安装并导入使用一个第三方库")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[s("p",[this._v("首选需要把要引用的第三方库放在"),s("code",[this._v("public")]),this._v("目录下。")])]),this._v(" "),s("li",[s("p",[this._v("创建一个 js 文件导出第三方库引用路径的列表数组。")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),s("p",[this._v("路径默认开始于"),s("code",[this._v("public")]),this._v("，并且最前面不需要加"),s("code",[this._v("/")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// libs.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'libs/prism.css'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'libs/prism.js'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"3"}},[s("li",[this._v("在模块的初始化函数中导入第三方库列表，初始化时使用$addRemoteLib 方法加载。")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" libs "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./libs'")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 动态的获取到模块部署地址的url")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" moduleServerUrl\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" window"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("document"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("currentScript"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("match")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/(.+\\/)[^/]+\\.js$/")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  moduleServerUrl "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// init函数")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("Vue")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Promise")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("resolve"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" reject")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 注册libs")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 获取完整第三方库url连接")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getRemoteLibUrlList")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("libs")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" libs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("map")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("item")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" moduleServerUrl "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" item"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("$addRemoteLib")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRemoteLibUrlList")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("libs"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"构建环境配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建环境配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 构建环境配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"添加一个构建环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加一个构建环境","aria-hidden":"true"}},[this._v("#")]),this._v(" 添加一个构建环境")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果我们需要添加一个名为"),s("code",[this._v("test")]),this._v("的构建环境。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",[s("li",[this._v("在根目录添加以构建环境为后缀名的.env 文件，并且"),s("code",[this._v("VUE_APP_ENV=test")]),this._v("。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# .env.test")]),this._v("\nNODE_ENV"),s("span",{pre:!0,attrs:{class:"token operator"}},[this._v("=")]),this._v("production\nVUE_APP_ENV"),s("span",{pre:!0,attrs:{class:"token operator"}},[this._v("=")]),this._v("test\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("ol",{attrs:{start:"2"}},[s("li",[this._v("在"),s("code",[this._v("package.json")]),this._v("的"),s("code",[this._v("scripts")]),this._v("中添加相对应的构建脚本，注意出现"),s("code",[this._v("test")]),this._v("字符的位置，其他环境同理替换。")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build:test"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue-cli-service build --mode test --target lib src/init.js"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"环境常量配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#环境常量配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 环境常量配置")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// envConst.js")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" list "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  development"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CONST_KEY")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'const value'")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  production"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    test"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("CONST_KEY")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'constValue'")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通过构建环境来获取不同常量对象")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" envConst "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VUE_APP_ENV")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" list"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("VUE_APP_ENV")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" list"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("process"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("NODE_ENV")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" envConst\n")])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在使用时导入envConst")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" envConst "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./envConst.js'")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("envConst"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'CONST_KEY'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])}],!1,null,null,null);s.default=n.exports}}]);